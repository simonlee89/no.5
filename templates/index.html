{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <!-- ì§€ë„ (ì „ì²´ í™”ë©´) -->
        <div class="col-12 p-0">
            <div id="map"></div>
            
            <!-- ì§€ë„ ìœ„ì— ë– ìˆëŠ” ë§¤ë¬¼ í•„í„° -->
            <div class="toss-floating-filter">
                <div class="toss-filter-container">
                    <div class="toss-filter-header" id="filterToggle">
                        <div class="toss-filter-title">
                            <svg class="toss-icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M3 7H21L19 12H5L3 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M9 12V19L15 16V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span>ë§¤ë¬¼ í•„í„°</span>
                        </div>
                        <svg class="toss-chevron" id="chevronIcon" width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    
                    <div class="toss-filter-content" id="filterContent">
                        <!-- ê²€ìƒ‰ ì…ë ¥ -->
                        <div class="toss-input-group">
                            <input type="text" class="toss-input" id="searchInput" placeholder="ì§€ì—­ëª…ìœ¼ë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”">
                            <svg class="toss-input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                                <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>

                        <!-- ì‹œíŠ¸ ì„ íƒ -->
                        <div class="toss-section">
                            <label class="toss-label">ë§¤ë¬¼ ìœ í˜•</label>
                            <div class="toss-sheet-grid">
                                <input type="radio" class="toss-sheet-radio" name="sheetType" id="gangnam-monthly" value="ê°•ë‚¨ì›”ì„¸" checked>
                                <label class="toss-sheet-button" for="gangnam-monthly">ê°•ë‚¨ì›”ì„¸</label>
                                
                                <input type="radio" class="toss-sheet-radio" name="sheetType" id="gangnam-jeonse" value="ê°•ë‚¨ì „ì„¸">
                                <label class="toss-sheet-button" for="gangnam-jeonse">ê°•ë‚¨ì „ì„¸</label>
                                
                                <input type="radio" class="toss-sheet-radio" name="sheetType" id="songpa-monthly" value="ì†¡íŒŒì›”ì„¸">
                                <label class="toss-sheet-button" for="songpa-monthly">ì†¡íŒŒì›”ì„¸</label>
                                
                                <input type="radio" class="toss-sheet-radio" name="sheetType" id="songpa-jeonse" value="ì†¡íŒŒì „ì„¸">
                                <label class="toss-sheet-button" for="songpa-jeonse">ì†¡íŒŒì „ì„¸</label>
                            </div>
                        </div>

                        <!-- ìƒíƒœ í•„í„° -->
                        <div class="toss-section">
                            <label class="toss-label">ë§¤ë¬¼ ìƒíƒœ</label>
                            <div class="toss-chip-group">
                                <input type="radio" class="toss-chip-radio" name="statusFilter" id="gongkeul" value="ê³µí´" checked>
                                <label class="toss-chip" for="gongkeul">ê³µí´</label>

                                <input type="radio" class="toss-chip-radio" name="statusFilter" id="onha" value="ì˜¨í•˜">
                                <label class="toss-chip" for="onha">ì˜¨í•˜</label>

                                <input type="radio" class="toss-chip-radio" name="statusFilter" id="ganmae" value="ê° ë§¤">
                                <label class="toss-chip" for="ganmae">ê° ë§¤</label>
                            </div>
                        </div>

                        <!-- ë³´ì¦ê¸ˆ ë²”ìœ„ -->
                        <div class="toss-section">
                            <label class="toss-label">ë³´ì¦ê¸ˆ ë²”ìœ„</label>
                            <div class="toss-range-group">
                                <div class="toss-range-row">
                                    <div class="toss-input-wrapper">
                                        <input type="number" class="toss-number-input" id="depositBillionStart" placeholder="0" min="0">
                                        <span class="toss-unit">ì–µ</span>
                                    </div>
                                    <div class="toss-input-wrapper">
                                        <input type="number" class="toss-number-input" id="depositMillionStart" placeholder="0" min="0">
                                        <span class="toss-unit">ë§Œì›</span>
                                    </div>
                                </div>
                                <div class="toss-range-divider">~</div>
                                <div class="toss-range-row">
                                    <div class="toss-input-wrapper">
                                        <input type="number" class="toss-number-input" id="depositBillionEnd" placeholder="0" min="0">
                                        <span class="toss-unit">ì–µ</span>
                                    </div>
                                    <div class="toss-input-wrapper">
                                        <input type="number" class="toss-number-input" id="depositMillionEnd" placeholder="0" min="0">
                                        <span class="toss-unit">ë§Œì›</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ì›”ì„¸ ë²”ìœ„ -->
                        <div class="toss-section">
                            <label class="toss-label">ì›”ì„¸ ë²”ìœ„</label>
                            <div class="toss-range-group">
                                <div class="toss-range-row">
                                    <div class="toss-input-wrapper">
                                        <input type="number" class="toss-number-input" id="monthlyRentStart" placeholder="0" min="0">
                                        <span class="toss-unit">ë§Œì›</span>
                                    </div>
                                </div>
                                <div class="toss-range-divider">~</div>
                                <div class="toss-range-row">
                                    <div class="toss-input-wrapper">
                                        <input type="number" class="toss-number-input" id="monthlyRentEnd" placeholder="0" min="0">
                                        <span class="toss-unit">ë§Œì›</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ì´ˆê¸°í™” ë²„íŠ¼ -->
                        <button id="resetButton" class="toss-reset-button">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M1 4V10H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M3.51 15A9 9 0 1 0 6 5L1 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            í•„í„° ì´ˆê¸°í™”
                        </button>

                        <!-- ì•ˆë‚´ ë©”ì‹œì§€ -->
                        <div style="background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 8px; padding: 12px; margin-bottom: 16px; font-size: 14px; color: #6c757d;">
                            <div style="font-weight: 600; color: #495057; margin-bottom: 4px;">ğŸ“ ì‚¬ìš© ë°©ë²•</div>
                            <div>1. ë§¤ë¬¼ ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”</div>
                            <div>2. ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë§¤ë¬¼ì„ ë¡œë“œí•˜ì„¸ìš”</div>
                        </div>

                        <!-- ê²€ìƒ‰ ë²„íŠ¼ -->
                        <button id="filterButton" class="toss-search-button">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                                <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            ë§¤ë¬¼ ê²€ìƒ‰í•˜ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/map.js') }}?v=20250103"></script>
<script>
// í† ìŠ¤ ìŠ¤íƒ€ì¼ í•„í„° í† ê¸€ ê¸°ëŠ¥
document.addEventListener('DOMContentLoaded', function() {
    const filterToggle = document.getElementById('filterToggle');
    const filterContent = document.getElementById('filterContent');
    const chevronIcon = document.getElementById('chevronIcon');
    
    filterToggle.addEventListener('click', function() {
        const isExpanded = filterContent.classList.contains('expanded');
        
        if (isExpanded) {
            filterContent.classList.remove('expanded');
            chevronIcon.style.transform = 'rotate(0deg)';
        } else {
            filterContent.classList.add('expanded');
            chevronIcon.style.transform = 'rotate(180deg)';
        }
    });
    
    // ì´ˆê¸° ìƒíƒœëŠ” ì ‘íŒ ìƒíƒœ
    filterContent.classList.remove('expanded');
});
</script>
{% endblock %}